# KyroDB Benchmark Configuration
# Optimized for Azure FX32ms v2 (32 vCPUs, 730 GB RAM)
# Maximum performance settings for comprehensive benchmarking

[server]
host = "0.0.0.0"
port = 50051
http_port = 51051

[server.tls]
enabled = false

[cache]
# Hot tier hard limit is derived by the server (currently: hard_limit = capacity * 2).
capacity = 2000000            # 2M cache capacity -> 4M derived hot tier hard limit
strategy = "lru"             # Use simple LRU for benchmark consistency
enable_ab_testing = false
enable_query_clustering = false
enable_prefetching = false
auto_tune_threshold = false

[hnsw]
# HNSW parameters for large-scale benchmarking
# Configured for SIFT1M benchmark (730GB RAM supports much larger datasets if needed)
max_elements = 2000000       # 2M vectors (2x SIFT dataset size)
m = 16                       # Connections per node
ef_construction = 64         # Lower for faster builds (still good recall)
ef_search = 100              # Search-time ef
dimension = 128              # SIFT-128 dimension
distance = "euclidean"       # SIFT uses L2 distance

[persistence]
data_dir = "./benchmark_data"
enable_wal = false            # Disable WAL for pure benchmark speed
fsync_policy = "none"         # No fsync for benchmarks
snapshot_interval_secs = 0    # Disable snapshots during benchmark

[logging]
level = "warn"               # Minimal logging for benchmarks
